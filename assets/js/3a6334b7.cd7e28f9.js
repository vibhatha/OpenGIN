"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[802],{8082(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"appendix/operations/backup_integration","title":"Backup Integration Guide","description":"This guide covers both local backup management and GitHub-based backup restoration using our init.sh script. There are two main workflows depending on your needs.","source":"@site/docs/appendix/operations/backup_integration.md","sourceDirName":"appendix/operations","slug":"/appendix/operations/backup_integration","permalink":"/OpenGIN/docs/appendix/operations/backup_integration","draft":false,"unlisted":false,"editUrl":"https://github.com/LDFLK/OpenGIN/tree/main/docs/docs/appendix/operations/backup_integration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Release Lifecycle","permalink":"/OpenGIN/docs/appendix/release_life_cycle"},"next":{"title":"MongoDB Backup","permalink":"/OpenGIN/docs/appendix/operations/mongodb"}}');var i=s(4848),t=s(8453);const r={},l="Backup Integration Guide",a={},c=[{value:"Two Main Workflows",id:"two-main-workflows",level:2},{value:"1. <strong>Local Backup Workflow</strong>",id:"1-local-backup-workflow",level:3},{value:"2. <strong>GitHub Release Workflow</strong>",id:"2-github-release-workflow",level:3},{value:"Local Backup Workflow",id:"local-backup-workflow",level:2},{value:"Create Local Backups",id:"create-local-backups",level:3},{value:"Restore from Local Backups",id:"restore-from-local-backups",level:3},{value:"Local Backup Structure",id:"local-backup-structure",level:3},{value:"Environment Configuration",id:"environment-configuration",level:3},{value:"GitHub Release Workflow",id:"github-release-workflow",level:2},{value:"Restore from GitHub Releases",id:"restore-from-github-releases",level:3},{value:"Docker Compose Integration",id:"docker-compose-integration",level:3},{value:"GitHub Repository Structure",id:"github-repository-structure",level:3},{value:"GitHub Archive URLs",id:"github-archive-urls",level:3},{value:"Complete Workflow Examples",id:"complete-workflow-examples",level:2},{value:"Scenario 1: Development Setup",id:"scenario-1-development-setup",level:3},{value:"Scenario 2: Production Deployment",id:"scenario-2-production-deployment",level:3},{value:"Scenario 3: Team Collaboration",id:"scenario-3-team-collaboration",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Database Credentials",id:"database-credentials",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Local Backup Issues",id:"local-backup-issues",level:3},{value:"GitHub Backup Issues",id:"github-backup-issues",level:3},{value:"Container State Issues",id:"container-state-issues",level:3},{value:"Key Features",id:"key-features",level:2},{value:"Smart Container Handling",id:"smart-container-handling",level:3},{value:"No Authentication Required",id:"no-authentication-required",level:3},{value:"Flexible Workflows",id:"flexible-workflows",level:3},{value:"Environment Support",id:"environment-support",level:3},{value:"Command Reference",id:"command-reference",level:2},{value:"Local Backup Commands",id:"local-backup-commands",level:3},{value:"GitHub Commands",id:"github-commands",level:3},{value:"Service Management",id:"service-management",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"backup-integration-guide",children:"Backup Integration Guide"})}),"\n",(0,i.jsxs)(n.p,{children:["This guide covers both local backup management and GitHub-based backup restoration using our ",(0,i.jsx)(n.code,{children:"init.sh"})," script. There are two main workflows depending on your needs."]}),"\n",(0,i.jsx)(n.h2,{id:"two-main-workflows",children:"Two Main Workflows"}),"\n",(0,i.jsxs)(n.h3,{id:"1-local-backup-workflow",children:["1. ",(0,i.jsx)(n.strong,{children:"Local Backup Workflow"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create backups locally using ",(0,i.jsx)(n.code,{children:"init.sh"})]}),"\n",(0,i.jsx)(n.li,{children:"Store backups in local directories"}),"\n",(0,i.jsx)(n.li,{children:"Restore from local backup files"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use case"}),": Development, testing, local data management"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"2-github-release-workflow",children:["2. ",(0,i.jsx)(n.strong,{children:"GitHub Release Workflow"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Download and restore from ",(0,i.jsx)(n.a,{href:"https://github.com/LDFLK/data-backups",children:"LDFLK/data-backups"})," repository"]}),"\n",(0,i.jsx)(n.li,{children:"Use pre-built backup releases"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use case"}),": Production deployments, team collaboration, version management"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"local-backup-workflow",children:"Local Backup Workflow"}),"\n",(0,i.jsx)(n.h3,{id:"create-local-backups",children:"Create Local Backups"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create individual database backups\n./deployment/development/init.sh backup_mongodb\n./deployment/development/init.sh backup_postgres\n./deployment/development/init.sh backup_neo4j\n\n# List available local backups\n./deployment/development/init.sh list_mongodb_backups\n./deployment/development/init.sh list_postgres_backups\n./deployment/development/init.sh list_neo4j_backups\n"})}),"\n",(0,i.jsx)(n.h3,{id:"restore-from-local-backups",children:"Restore from Local Backups"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Restore from local backup directories\n./deployment/development/init.sh restore_mongodb\n./deployment/development/init.sh restore_postgres\n./deployment/development/init.sh restore_neo4j\n"})}),"\n",(0,i.jsx)(n.h3,{id:"local-backup-structure",children:"Local Backup Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"backups/\n\u251c\u2500\u2500 mongodb/\n\u2502   \u2514\u2500\u2500 opengin.tar.gz\n\u251c\u2500\u2500 postgres/\n\u2502   \u2514\u2500\u2500 opengin.tar.gz\n\u2514\u2500\u2500 neo4j/\n    \u2514\u2500\u2500 neo4j.dump\n"})}),"\n",(0,i.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Set backup directories in ",(0,i.jsx)(n.code,{children:"configs/backup.env"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# MongoDB backup directory\nMONGODB_BACKUP_DIR=/path/to/mongodb/backups\n\n# PostgreSQL backup directory  \nPOSTGRES_BACKUP_DIR=/path/to/postgres/backups\n\n# Neo4j backup directory\nNEO4J_BACKUP_DIR=/path/to/neo4j/backups\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"github-release-workflow",children:"GitHub Release Workflow"}),"\n",(0,i.jsx)(n.h3,{id:"restore-from-github-releases",children:"Restore from GitHub Releases"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Restore latest version from GitHub\n./deployment/development/init.sh restore_from_github\n\n# Restore specific version\n./deployment/development/init.sh restore_from_github 0.0.1\n\n# List available versions\n./deployment/development/init.sh list_github_versions\n\n# Get latest version info\n./deployment/development/init.sh get_latest_github_version\n"})}),"\n",(0,i.jsx)(n.h3,{id:"docker-compose-integration",children:"Docker Compose Integration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Start all services (backup-manager auto-restores from GitHub)\ndocker-compose up -d\n\n# Check backup-manager logs\ndocker logs backup-manager\n\n# Run commands in backup-manager container\ndocker exec backup-manager /init.sh list_github_versions\ndocker exec backup-manager /init.sh restore_from_github 0.0.1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"github-repository-structure",children:"GitHub Repository Structure"}),"\n",(0,i.jsxs)(n.p,{children:["The system expects this structure in ",(0,i.jsx)(n.a,{href:"https://github.com/LDFLK/data-backups",children:"LDFLK/data-backups"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"data-backups-0.0.1/\n\u2514\u2500\u2500 opengin\n    \u2514\u2500\u2500 development\n        \u251c\u2500\u2500 mongodb\n        \u2502   \u2514\u2500\u2500 mongodb.tar.gz\n        \u251c\u2500\u2500 postgres\n        \u2502   \u2514\u2500\u2500 postgres.tar.gz\n        \u2514\u2500\u2500 neo4j\n            \u2514\u2500\u2500 neo4j.dump\n"})}),"\n",(0,i.jsx)(n.h3,{id:"github-archive-urls",children:"GitHub Archive URLs"}),"\n",(0,i.jsx)(n.p,{children:"The system uses GitHub's built-in archive feature:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version 0.0.1"}),": ",(0,i.jsx)(n.a,{href:"https://github.com/LDFLK/data-backups/archive/refs/tags/0.0.1.zip",children:"https://github.com/LDFLK/data-backups/archive/refs/tags/0.0.1.zip"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version 0.0.2"}),": ",(0,i.jsx)(n.a,{href:"https://github.com/LDFLK/data-backups/archive/refs/tags/0.0.2.zip",children:"https://github.com/LDFLK/data-backups/archive/refs/tags/0.0.2.zip"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Any version"}),": ",(0,i.jsx)(n.a,{href:"https://github.com/LDFLK/data-backups/archive/refs/tags/%7Bversion%7D.zip",children:"https://github.com/LDFLK/data-backups/archive/refs/tags/{version}.zip"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"complete-workflow-examples",children:"Complete Workflow Examples"}),"\n",(0,i.jsx)(n.h3,{id:"scenario-1-development-setup",children:"Scenario 1: Development Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 1. Start your services\ndocker-compose up -d\n\n# 2. Create local backups\n./deployment/development/init.sh backup_mongodb\n./deployment/development/init.sh backup_postgres\n./deployment/development/init.sh backup_neo4j\n\n# 3. Test your application\n# ... do development work ...\n\n# 4. Restore from local backups if needed\n./deployment/development/init.sh restore_mongodb\n./deployment/development/init.sh restore_postgres\n./deployment/development/init.sh restore_neo4j\n"})}),"\n",(0,i.jsx)(n.h3,{id:"scenario-2-production-deployment",children:"Scenario 2: Production Deployment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 1. Deploy with GitHub backup restoration\ndocker-compose up -d\n\n# 2. The backup-manager automatically restores from GitHub\n# Check logs to confirm\ndocker logs backup-manager\n\n# 3. Your application is ready with production data\n"})}),"\n",(0,i.jsx)(n.h3,{id:"scenario-3-team-collaboration",children:"Scenario 3: Team Collaboration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 1. Create backups locally\n./deployment/development/init.sh backup_mongodb\n./deployment/development/init.sh backup_postgres\n./deployment/development/init.sh backup_neo4j\n\n# 2. Upload to GitHub repository (manual process)\n# - Create release in LDFLK/data-backups\n# - Upload backup files to correct directory structure\n\n# 3. Team members restore from GitHub\n./deployment/development/init.sh restore_from_github 0.0.1\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ENVIRONMENT"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"development"})}),(0,i.jsx)(n.td,{children:"Environment (dev/staging/prod)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MONGODB_BACKUP_DIR"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"./backups/mongodb"})}),(0,i.jsx)(n.td,{children:"Local MongoDB backup directory"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"POSTGRES_BACKUP_DIR"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"./backups/postgres"})}),(0,i.jsx)(n.td,{children:"Local PostgreSQL backup directory"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NEO4J_BACKUP_DIR"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"./backups/neo4j"})}),(0,i.jsx)(n.td,{children:"Local Neo4j backup directory"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"database-credentials",children:"Database Credentials"}),"\n",(0,i.jsxs)(n.p,{children:["Configure in ",(0,i.jsx)(n.code,{children:"configs/backup.env"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# MongoDB\nMONGODB_USERNAME=admin\nMONGODB_PASSWORD=admin123\nMONGODB_DATABASE=opengin\n\n# PostgreSQL\nPOSTGRES_USER=postgres\nPOSTGRES_PASSWORD=postgres\nPOSTGRES_DATABASE=opengin\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"local-backup-issues",children:"Local Backup Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Check if backup directories exist\nls -la ./backups/mongodb/\nls -la ./backups/postgres/\nls -la ./backups/neo4j/\n\n# Check database connectivity\ndocker exec mongodb mongo --eval "db.adminCommand(\'ping\')"\ndocker exec postgres pg_isready -U postgres\ndocker exec neo4j cypher-shell -u neo4j -p neo4j123 "RETURN 1"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"github-backup-issues",children:"GitHub Backup Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Test GitHub archive download\nwget -O test.zip "https://github.com/LDFLK/data-backups/archive/refs/tags/0.0.1.zip"\nunzip -l test.zip\n\n# Check archive structure\nunzip -l test.zip | grep opengin\n\n# Run with debug output\nbash -x ./deployment/development/init.sh restore_from_github 0.0.1\n'})}),"\n",(0,i.jsx)(n.h3,{id:"container-state-issues",children:"Container State Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check container status\ndocker-compose ps\n\n# Check Neo4j container state (smart handling)\ndocker-compose ps neo4j\n\n# View logs\ndocker logs mongodb\ndocker logs postgres\ndocker logs neo4j\ndocker logs backup-manager\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,i.jsx)(n.h3,{id:"smart-container-handling",children:"Smart Container Handling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Neo4j functions"})," intelligently detect container state"]}),"\n",(0,i.jsx)(n.li,{children:"Only stop/start containers when necessary"}),"\n",(0,i.jsx)(n.li,{children:"Faster operations when containers are already in desired state"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"no-authentication-required",children:"No Authentication Required"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GitHub workflow"})," uses public archive URLs"]}),"\n",(0,i.jsx)(n.li,{children:"No API tokens or rate limits"}),"\n",(0,i.jsxs)(n.li,{children:["Direct file downloads with ",(0,i.jsx)(n.code,{children:"wget"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"flexible-workflows",children:"Flexible Workflows"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Local backups"})," for development and testing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GitHub releases"})," for production and team collaboration"]}),"\n",(0,i.jsxs)(n.li,{children:["Both workflows use the same ",(0,i.jsx)(n.code,{children:"init.sh"})," commands"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"environment-support",children:"Environment Support"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Development, staging, production environments"}),"\n",(0,i.jsx)(n.li,{children:"Configurable backup directories"}),"\n",(0,i.jsx)(n.li,{children:"Environment-specific GitHub releases"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"command-reference",children:"Command Reference"}),"\n",(0,i.jsx)(n.h3,{id:"local-backup-commands",children:"Local Backup Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Backup\n./deployment/development/init.sh backup_mongodb\n./deployment/development/init.sh backup_postgres\n./deployment/development/init.sh backup_neo4j\n\n# Restore\n./deployment/development/init.sh restore_mongodb\n./deployment/development/init.sh restore_postgres\n./deployment/development/init.sh restore_neo4j\n\n# List\n./deployment/development/init.sh list_mongodb_backups\n./deployment/development/init.sh list_postgres_backups\n./deployment/development/init.sh list_neo4j_backups\n"})}),"\n",(0,i.jsx)(n.h3,{id:"github-commands",children:"GitHub Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Restore\n./deployment/development/init.sh restore_from_github\n./deployment/development/init.sh restore_from_github 0.0.1\n\n# Version management\n./deployment/development/init.sh list_github_versions\n./deployment/development/init.sh get_latest_github_version\n"})}),"\n",(0,i.jsx)(n.h3,{id:"service-management",children:"Service Management"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Neo4j service\n./deployment/development/init.sh setup_neo4j\n./deployment/development/init.sh run_neo4j\n\n# General\n./deployment/development/init.sh setup\n./deployment/development/init.sh help\n"})}),"\n",(0,i.jsx)(n.p,{children:"This covers both local backup management and GitHub-based restoration workflows! \ud83c\udfaf"})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>l});var o=s(6540);const i={},t=o.createContext(i);function r(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);