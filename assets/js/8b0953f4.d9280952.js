"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[142],{7446(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/personal_life_ecology_graph-bde3ab06361425774d4a1ce69ef7a069.png"},8453(e,n,i){i.d(n,{R:()=>l,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},9809(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutorial/simple_app","title":"Building a Personal Life Ecology Application","description":"In this tutorial, we will build a Python application that models a \\"Personal Life Ecology\\". Instead of a single entity, we will create a rich graph of connected entities representing a person, their relationships, and their financial activities.","source":"@site/docs/tutorial/simple_app.md","sourceDirName":"tutorial","slug":"/tutorial/simple_app","permalink":"/OpenGIN/docs/tutorial/simple_app","draft":false,"unlisted":false,"editUrl":"https://github.com/LDFLK/OpenGIN/tree/main/docs/docs/tutorial/simple_app.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Installation","permalink":"/OpenGIN/docs/getting_started/installation"},"next":{"title":"Data Types","permalink":"/OpenGIN/docs/appendix/datatype"}}');var s=i(4848),r=i(8453);const l={},a="Building a Personal Life Ecology Application",o={},d=[{value:"Scenario",id:"scenario",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Implementation Details",id:"implementation-details",level:2},{value:"1. Two-Phase Ingestion Strategy",id:"1-two-phase-ingestion-strategy",level:3},{value:"2. Handling Tabular Attributes",id:"2-handling-tabular-attributes",level:3},{value:"Running the Tutorial",id:"running-the-tutorial",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Commands",id:"commands",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"building-a-personal-life-ecology-application",children:"Building a Personal Life Ecology Application"})}),"\n",(0,s.jsx)(n.p,{children:'In this tutorial, we will build a Python application that models a "Personal Life Ecology". Instead of a single entity, we will create a rich graph of connected entities representing a person, their relationships, and their financial activities.'}),"\n",(0,s.jsxs)(n.p,{children:["This tutorial uses the code and data provided in the ",(0,s.jsx)(n.code,{children:"tutorials/"})," directory of the OpenGIN repository."]}),"\n",(0,s.jsx)(n.h2,{id:"scenario",children:"Scenario"}),"\n",(0,s.jsxs)(n.p,{children:["We are modeling the life of ",(0,s.jsx)(n.strong,{children:"Alex"}),", a software engineer."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Central Entity"}),": Alex (Person/Individual)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Relationships"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Works at ",(0,s.jsx)(n.strong,{children:"TechCorp"})]}),"\n",(0,s.jsxs)(n.li,{children:["Lives at ",(0,s.jsx)(n.strong,{children:"Home"})]}),"\n",(0,s.jsxs)(n.li,{children:["Exercises at ",(0,s.jsx)(n.strong,{children:"FitGym"})]}),"\n",(0,s.jsxs)(n.li,{children:["Frequents ",(0,s.jsx)(n.strong,{children:"Espresso Corner"})," (Cafe)"]}),"\n",(0,s.jsxs)(n.li,{children:["Shops at ",(0,s.jsx)(n.strong,{children:"FreshMart"})," (Supermarket)"]}),"\n",(0,s.jsxs)(n.li,{children:["Subscribed to ",(0,s.jsx)(n.strong,{children:"FiberNet"})," (ISP)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Personal Life Ecology Graph",src:i(7446).A+"",width:"1024",height:"1024"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tabular Data"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Expenses"}),": Monthly spending record linked to entities."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Income"}),": Monthly income record linked to employers/sources."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,s.jsxs)(n.p,{children:["Navigate to the ",(0,s.jsx)(n.code,{children:"tutorials/"})," folder to see the implementation:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"my_first_opengin_app.py"})}),": The Python script that performs the ingestion."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"data/"})}),": Contains the source data.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"entities.csv"}),": Definitions of Alex and related organizations/places."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"relationships.csv"}),": Graph edges connecting the entities."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"expenses.csv"})," & ",(0,s.jsx)(n.code,{children:"income.csv"}),": Tabular financial data."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metadata.json"}),": Additional key-value pairs for entities."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,s.jsxs)(n.p,{children:["The application script (",(0,s.jsx)(n.code,{children:"my_first_opengin_app.py"}),") demonstrates best practices for ingesting complex data into OpenGIN."]}),"\n",(0,s.jsx)(n.h3,{id:"1-two-phase-ingestion-strategy",children:"1. Two-Phase Ingestion Strategy"}),"\n",(0,s.jsxs)(n.p,{children:["To satisfy referential integrity (you can't link to an entity that doesn't exist yet), the script uses a ",(0,s.jsx)(n.strong,{children:"2-pass strategy"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 1 (Creation)"}),": Iterate through ",(0,s.jsx)(n.code,{children:"entities.csv"})," and create all entities using ",(0,s.jsx)(n.code,{children:"POST /entities"}),". At this stage, we ingest Metadata and Attributes (like Expenses tables), but ",(0,s.jsx)(n.em,{children:"exclude"})," relationships."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Phase 2 (Linking)"}),": Iterate again and use ",(0,s.jsx)(n.code,{children:"PUT /entities/{id}"})," to update the entities, adding their ",(0,s.jsx)(n.strong,{children:"Relationships"}),". We strictly exclude immutable fields like ",(0,s.jsx)(n.code,{children:"Kind"})," during this update."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-handling-tabular-attributes",children:"2. Handling Tabular Attributes"}),"\n",(0,s.jsxs)(n.p,{children:["The script reads ",(0,s.jsx)(n.code,{children:"expenses.csv"})," using pandas and converts it into OpenGIN's tabular attribute format:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"attributes": {\n    "expenses": {\n        "values": [\n            {\n                "startTime": "...",\n                "value": {\n                    "columns": ["Month", "Category", "Amount"],\n                    "rows": [["Jan", "Internet", "50"], ...]\n                }\n            }\n        ]\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"running-the-tutorial",children:"Running the Tutorial"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenGIN running locally (Ingestion API at port 8080, Read API at port 8081)."}),"\n",(0,s.jsxs)(n.li,{children:["Python 3.8+ with ",(0,s.jsx)(n.code,{children:"pandas"})," and ",(0,s.jsx)(n.code,{children:"requests"})," installed (",(0,s.jsx)(n.code,{children:"pip install pandas requests"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"commands",children:"Commands"}),"\n",(0,s.jsx)(n.p,{children:"The script provides a CLI for easy interaction."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1. Create Data (Ingest)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python tutorials/my_first_opengin_app.py create\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:'Output: You will see "Creating Entity..." logs for Phase 1 and "Linking Entity..." logs for Phase 2.'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2. Verify Data"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python tutorials/my_first_opengin_app.py verify\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:'Output: This queries the Read API to confirm "Person" entities were created successfully.'})}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Explore the ",(0,s.jsx)(n.code,{children:"tutorials/data/"})," CSV files to see how the data is structured."]}),"\n",(0,s.jsxs)(n.li,{children:["Modify ",(0,s.jsx)(n.code,{children:"my_first_opengin_app.py"}),' to add a new entity (e.g., a "Friend") and link them to Alex.']}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);